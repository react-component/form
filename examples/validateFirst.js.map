{"version":3,"sources":["webpack:///./examples/styles.js?acb5**********","webpack:///./index.js?2645*******","webpack:///./src/index.js?9552*******","webpack:///./~/_antd@2.10.1@antd/dist/antd.css?d3f6******","webpack:///./examples/validateFirst.js"],"names":["regionStyle","border","marginTop","padding","errorStyle","color","Email","props","form","getFieldProps","getFieldError","isFieldValidating","errors","initialValue","validateFirst","rules","required","type","message","join","propTypes","PropTypes","object","User","userExists","rule","value","callback","setTimeout","Error","min","validator","React","Component","Form","onSubmit","e","console","log","preventDefault","validateFields","error","values","reset","resetFields","margin","NewForm","createForm","ReactDOM","render","document","getElementById"],"mappings":"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","file":"validateFirst.js","sourcesContent":["export const regionStyle = {\n  border: '1px solid red',\n  marginTop: 10,\n  padding: 10,\n};\n\nexport const errorStyle = {\n  color: 'red',\n  marginTop: 10,\n  padding: 10,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./examples/styles.js","// export this package's api\nimport * as form from './src/';\nexport default form;\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","// export this package's api\nimport createForm from './createForm';\nexport { createForm };\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_antd@2.10.1@antd/dist/antd.css\n// module id = 29\n// module chunks = 0 1 2 6 7 9 12 13","/* eslint react/no-multi-comp:0, no-console:0 */\n\nimport { createForm } from 'rc-form';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport 'antd/dist/antd.css';\nimport { regionStyle, errorStyle } from './styles';\n\nfunction Email(props) {\n  const { getFieldProps, getFieldError, isFieldValidating } = props.form;\n  const errors = getFieldError('email');\n  return (<div style={ regionStyle }>\n    <div>email sync validate</div>\n    <div>\n      <input {...getFieldProps('email', {\n        initialValue: '',\n        validateFirst: true,\n        rules: [\n          {\n            required: true,\n          },\n          {\n            type: 'email',\n            message: '错误的 email 格式',\n          },\n        ],\n      })}\n      />\n    </div>\n    <div style={errorStyle}>\n      {errors ? errors.join(',') : null}\n    </div>\n    <div style={errorStyle}>\n      {isFieldValidating('email') ? 'validating' : null}\n    </div>\n  </div>);\n}\n\nEmail.propTypes = {\n  form: PropTypes.object,\n};\n\nclass User extends React.Component {\n  static propTypes = {\n    form: PropTypes.object,\n  };\n  userExists = (rule, value, callback) => {\n    setTimeout(() => {\n      if (value === '1') {\n        callback([new Error('are you kidding?')]);\n      } else if (value === 'yiminghe') {\n        callback([new Error('forbid yiminghe')]);\n      } else {\n        callback();\n      }\n    }, 300);\n  }\n  render() {\n    const { getFieldProps, getFieldError, isFieldValidating } = this.props.form;\n    const errors = getFieldError('user');\n    return (<div style={ regionStyle }>\n      <div>user async validate</div>\n      <div>\n        <input {...getFieldProps('user', {\n          initialValue: '',\n          rules: [\n            {\n              required: true,\n              min: 2,\n            },\n            {\n              validator: this.userExists,\n            },\n          ],\n        })}\n        />\n      </div>\n      <div style={errorStyle}>\n        {(errors) ? errors.join(',') : null}\n      </div>\n      <div style={errorStyle}>\n        {isFieldValidating('user') ? 'validating' : null}\n      </div>\n    </div>);\n  }\n}\n\nclass Form extends Component {\n  static propTypes = {\n    form: PropTypes.object,\n  };\n\n  onSubmit = (e) => {\n    console.log('submit');\n    e.preventDefault();\n    this.props.form.validateFields({\n      // firstFields: false,\n    }, (error, values) => {\n      if (!error) {\n        console.log('ok', values);\n      } else {\n        console.log('error', error, values);\n      }\n    });\n  };\n\n  reset = (e) => {\n    e.preventDefault();\n    this.props.form.resetFields();\n  };\n\n  render() {\n    const { form } = this.props;\n    return (<div style={{ margin: 20 }}>\n      <h2>validateFirst</h2>\n      <form onSubmit={this.onSubmit}>\n        <User form={ form }/>\n\n        <Email form={ form }/>\n\n        <div style={ regionStyle }>\n          <button onClick={this.reset}>reset</button>\n          &nbsp;\n          <input type=\"submit\" value=\"submit\"/>\n        </div>\n      </form>\n    </div>);\n  }\n}\n\nconst NewForm = createForm()(Form);\n\nReactDOM.render(<NewForm />, document.getElementById('__react-content'));\n\n\n\n// WEBPACK FOOTER //\n// ./examples/validateFirst.js"],"sourceRoot":""}